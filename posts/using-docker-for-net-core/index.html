<!doctype html>
<html ⚡>

<head>
    <meta charset="utf-8">
    <link rel="canonical" href="https://wright-development.github.io/posts/using-docker-for-net-core/" />
    <script async src="https://cdn.ampproject.org/v0.js"></script>
    
    <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1">
    <style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript>
    <script async custom-element="amp-sidebar" src="https://cdn.ampproject.org/v0/amp-sidebar-0.1.js"></script>
    <script async custom-element="amp-selector" src="https://cdn.ampproject.org/v0/amp-selector-0.1.js"></script>
    <script async custom-element="amp-analytics" src="https://cdn.ampproject.org/v0/amp-analytics-0.1.js"></script>
    <script async custom-element="amp-twitter" src="https://cdn.ampproject.org/v0/amp-twitter-0.1.js"></script>
    <script async custom-element="amp-youtube" src="https://cdn.ampproject.org/v0/amp-youtube-0.1.js"></script>
    
    <script async custom-element="amp-accordion" src="https://cdn.ampproject.org/v0/amp-accordion-0.1.js"></script>
    <title>Using Docker for .NET Core Integration Testing - Wright Development</title>
    <link href="https://fonts.googleapis.com/css?family=Inconsolata|Montserrat" rel="stylesheet">
    <style amp-custom>.hljs{display:block;padding:0;color:#333}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-meta,.hljs-strong{font-weight:700}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}amp-carousel .ampstart-image-with-caption,amp-carousel .ampstart-image-with-heading{margin-bottom:0}.ampstart-input [disabled]:focus,.ampstart-input>input:focus,.ampstart-input>select:focus,.ampstart-input>textarea:focus,.ampstart-navbar-trigger:focus{outline:0}button,hr,input{overflow:visible}.list-reset,.list-style-none{list-style:none}.fit,.truncate,legend{max-width:100%}.clearfix:after,.www-component-anchor{clear:both}.ampstart-byline{color:#4a4a4a}.ampstart-byline time{font-style:normal;white-space:nowrap}.editor .comment,dfn{font-style:italic}.amp-carousel-button-next{background-image:url('data:image/svg+xml;charset=utf-8,<svgwidth="18"height="18"viewBox="003434"xmlns="http://www.w3.org/2000/svg"><title>Shape</title><pathd="M25.55714.7L13.8182.96116.80l16.816.8-16.816.8-2.961-2.961L25.55718.9H0v-4.2z"fill="%23FFF"fill-rule="evenodd"/></svg>')}.amp-carousel-button-prev{background-image:url('data:image/svg+xml;charset=utf-8,<svgwidth="18"height="18"viewBox="003434"xmlns="http://www.w3.org/2000/svg"><title>Shape</title><pathd="M33.614.7H8.043L19.7822.96116.80016.8l16.816.82.961-2.961L8.04318.9H33.6z"fill="%23FFF"fill-rule="evenodd"/></svg>')}.ampstart-dropdown{min-width:200px}.ampstart-dropdown.absolute{z-index:100}.ampstart-dropdown.absolute>section,.ampstart-dropdown.absolute>section>header{height:100%}.ampstart-dropdown>section>header{background-color:#fff;border:0;color:#b60845}.ampstart-dropdown>section>header:after{display:inline-block;content:"+";padding:0 0 0 2rem;color:#003f93}.ampstart-dropdown>[expanded]>header:after{content:"–"}.absolute .ampstart-dropdown-items{z-index:200}.ampstart-dropdown-item{background-color:#fff;color:#003f93;opacity:.9}.ampstart-dropdown-item:active,.ampstart-dropdown-item:hover{opacity:1}.ampstart-footer{background-color:#fff;color:#000;font-size:.75rem;padding-top:7rem;padding-bottom:7rem}.ampstart-footer .ampstart-icon{fill:#000}.ampstart-icon,.ampstart-sidebar .ampstart-icon{fill:#003f93}.ampstart-footer .ampstart-social-follow li:last-child{margin-right:0}.ampstart-image-fullpage-hero{color:#b60845}.ampstart-fullpage-hero-heading-text,.ampstart-image-fullpage-hero .ampstart-image-credit{-webkit-box-decoration-break:clone;box-decoration-break:clone;background:#fff;padding:0 1.5rem .2rem}.ampstart-image-fullpage-hero>amp-img{max-height:calc(100vh - 3.5rem)}.ampstart-image-fullpage-hero>amp-img img{-o-object-fit:cover;object-fit:cover}.ampstart-fullpage-hero-heading{line-height:5rem}.ampstart-fullpage-hero-cta{background:0}.ampstart-readmore{background:-webkit-linear-gradient(bottom,rgba(0,0,0,.65),transparent);background:linear-gradient(0deg,rgba(0,0,0,.65) 0,transparent);color:#b60845;margin-top:7rem;padding-bottom:5rem}.ampstart-readmore:after{display:block;content:"⌄";font-size:2rem}.ampstart-input input[type=checkbox]+label:after,.ampstart-input input[type=radio]+label:after,.ampstart-input>input[type=range]+label:after{display:none}@media(min-width:52.06rem){.ampstart-image-fullpage-hero>amp-img{height:60vh}}.ampstart-image-heading{color:#b60845;background:-webkit-linear-gradient(bottom,rgba(0,0,0,.65),transparent);background:linear-gradient(0deg,rgba(0,0,0,.65) 0,transparent)}.ampstart-image-heading>*{margin:0}.ampstart-image-with-caption figcaption{color:#4f4f4f;line-height:1.125rem}.ampstart-input{max-width:100%;width:300px;min-width:100px;font-size:1rem;line-height:1.5rem}.ampstart-input [disabled],.ampstart-input [disabled]+label{opacity:.5}.ampstart-input>input,.ampstart-input>select,.ampstart-input>textarea{width:100%;margin-top:1rem;line-height:1.5rem;border:0;border-radius:0;border-bottom:1px solid #4a4a4a;background:0;color:#4a4a4a;outline:0}.ampstart-input>label{color:#003f93;pointer-events:none;font-size:.875rem;line-height:1rem;opacity:0;-webkit-animation:.2s;animation:.2s;-webkit-animation-timing-function:cubic-bezier(.4,0,.2,1);animation-timing-function:cubic-bezier(.4,0,.2,1);-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.ampstart-input>input:focus::-webkit-input-placeholder,.ampstart-input>select:focus::-webkit-input-placeholder,.ampstart-input>textarea:focus::-webkit-input-placeholder{color:transparent}.ampstart-input>input:focus:-ms-input-placeholder,.ampstart-input>select:focus:-ms-input-placeholder,.ampstart-input>textarea:focus:-ms-input-placeholder{color:transparent}.ampstart-input>input:focus::placeholder,.ampstart-input>select:focus::placeholder,.ampstart-input>textarea:focus::placeholder{color:transparent}.ampstart-input>input:not(:placeholder-shown):not([disabled])+label,.ampstart-input>select:not(:placeholder-shown):not([disabled])+label,.ampstart-input>textarea:not(:placeholder-shown):not([disabled])+label{opacity:1}.ampstart-input>input:focus+label,.ampstart-input>select:focus+label,.ampstart-input>textarea:focus+label{-webkit-animation-name:a;animation-name:a}@-webkit-keyframes a{to{opacity:1}}@keyframes a{to{opacity:1}}.ampstart-input>label:after{content:"";height:2px;position:absolute;bottom:0;left:45%;background:#003f93;-webkit-transition:.2s;transition:.2s;-webkit-transition-timing-function:cubic-bezier(.4,0,.2,1);transition-timing-function:cubic-bezier(.4,0,.2,1);visibility:hidden;width:10px}.ampstart-input>input:focus+label:after,.ampstart-input>select:focus+label:after,.ampstart-input>textarea:focus+label:after{left:0;width:100%;visibility:visible}.ampstart-input>input[type=search]{-webkit-appearance:none;-moz-appearance:none;appearance:none}.ampstart-input>input[type=range]{border-bottom:0}.ampstart-input>select{-webkit-appearance:none;-moz-appearance:none;appearance:none}.ampstart-input>select+label:before{content:"⌄";line-height:1.5rem;position:absolute;right:5px;zoom:2;top:0;bottom:0;color:#003f93}.ampstart-input-chk,.ampstart-input-radio{width:auto;color:#4a4a4a}.ampstart-input input[type=checkbox],.ampstart-input input[type=radio]{margin-top:0;-webkit-appearance:none;-moz-appearance:none;appearance:none;width:20px;height:20px;border:1px solid #003f93;vertical-align:middle;margin-right:1rem;text-align:center}.ampstart-input input[type=radio]{border-radius:20px}.ampstart-input input[type=checkbox]:not([disabled])+label,.ampstart-input input[type=radio]:not([disabled])+label{pointer-events:auto;-webkit-animation:none;animation:none;vertical-align:middle;opacity:1}.ampstart-input input[type=checkbox]:after,.ampstart-input input[type=radio]:after{position:absolute;top:0;left:0;bottom:0;right:0;content:" ";line-height:1.4rem;vertical-align:middle;text-align:center;background-color:#b60845}.relative,sub,sup{position:relative}.align-baseline,progress,sub,sup{vertical-align:baseline}.ampstart-input input[type=checkbox]:checked:after{background-color:#003f93;color:#b60845;content:"✓"}.ampstart-input input[type=radio]:checked{background-color:#b60845}.ampstart-input input[type=radio]:after{top:3px;bottom:3px;left:3px;right:3px;border-radius:12px}.ampstart-input input[type=radio]:checked:after{content:"";font-size:3rem;background-color:#003f93}.ampstart-input>label,_:-ms-lang(x){opacity:1}.ampstart-input>input:-ms-input-placeholder,_:-ms-lang(x){color:transparent}.ampstart-input>input::placeholder,_:-ms-lang(x){color:transparent}.ampstart-input>input::-ms-input-placeholder,_:-ms-lang(x){color:transparent}.ampstart-input>select::-ms-expand{display:none}.ampstart-headerbar{background-color:#fff;color:#000;z-index:999;box-shadow:0 0 5px 2px rgba(0,0,0,.1)}.ampstart-headerbar+:not(amp-sidebar),.ampstart-headerbar+amp-sidebar+*{margin-top:3.5rem}.ampstart-headerbar-nav .ampstart-nav-item{padding:0 1.5rem;background:0;opacity:.8}.ampstart-nav-dropdown amp-accordion header,.ampstart-nav-dropdown amp-accordion ul,.ampstart-sidebar,.ampstart-social-box>amp-social-share,.editor,.editor .gutter{background-color:#fff}.ampstart-headerbar-nav{line-height:3.5rem;-webkit-box-flex:1;-ms-flex:1;flex:1}.ampstart-nav-item:active,.ampstart-nav-item:focus,.ampstart-nav-item:hover{opacity:1}.ampstart-nav a,.ampstart-navbar-trigger,.ampstart-sidebar-faq a{cursor:pointer;text-decoration:none}.ampstart-navbar-trigger{line-height:3.5rem;font-size:2rem}.ampstart-nav-search{-webkit-box-flex:.5;-ms-flex-positive:.5;flex-grow:.5}.ampstart-headerbar .ampstart-nav-search:active,.ampstart-headerbar .ampstart-nav-search:focus,.ampstart-headerbar .ampstart-nav-search:hover{box-shadow:none}.ampstart-nav-search>input{border:0;border-radius:3px;line-height:normal}.ampstart-nav-dropdown{min-width:200px}.ampstart-nav-dropdown amp-accordion header{border:0}.ampstart-nav-dropdown .ampstart-dropdown-item,.ampstart-nav-dropdown .ampstart-dropdown>section>header{background-color:#fff;color:#000}.ampstart-nav-dropdown .ampstart-dropdown-item{color:#003f93}.ampstart-sidebar{color:#000;min-width:300px;width:300px}.ampstart-sidebar-header{line-height:3.5rem;min-height:3.5rem}.ampstart-sidebar .ampstart-dropdown header,.ampstart-sidebar .ampstart-dropdown-item,.ampstart-sidebar .ampstart-faq-item,.ampstart-sidebar .ampstart-nav-item,.ampstart-sidebar .ampstart-social-follow{margin:0 0 2.5rem}.ampstart-sidebar .ampstart-nav-dropdown,body{margin:0}.ampstart-sidebar .ampstart-navbar-trigger{line-height:inherit}amp-user-notification{background:#fff;box-shadow:0 0 5px 2px rgba(0,0,0,.1)}.ampstart-related-article-section{border-color:#4a4a4a}.ampstart-related-article-section .ampstart-heading{color:#4a4a4a;font-weight:400}.ampstart-related-article-readmore{color:#fff;letter-spacing:0}.ampstart-related-section-items>li{border-bottom:1px solid #4a4a4a}.ampstart-related-section-items>li:last-child{border:0}.ampstart-related-section-items .ampstart-image-with-caption{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-bottom:0}.ampstart-related-section-items .ampstart-image-with-caption>amp-img,.ampstart-related-section-items .ampstart-image-with-caption>figcaption{-webkit-box-flex:1;-ms-flex:1;flex:1}.ampstart-related-section-items .ampstart-image-with-caption>figcaption{padding-left:1.5rem}@media(min-width:40.06rem){.ampstart-related-section-items>li{border:0}.ampstart-related-section-items .ampstart-image-with-caption>figcaption{padding:1.5rem 0}.ampstart-related-section-items .ampstart-image-with-caption>amp-img,.ampstart-related-section-items .ampstart-image-with-caption>figcaption{-ms-flex-preferred-size:100%;flex-basis:100%}}.ampstart-social-box{display:-webkit-box;display:-ms-flexbox;display:flex}.editor,.editor .gutter{color:#555}.editor .indent-guide,.editor .invisible-character{color:rgba(85,85,85,.2)}.editor .wrap-guide{background-color:rgba(85,85,85,.2)}.editor .gutter{color:#555;background:#fff}.editor .fold-marker:after,.editor .gutter .line-number.folded,.editor .gutter .line-number:after{color:#e87b00}.editor .invisible{color:#555}.editor .selection .region{background-color:#e1e1e1}.editor.is-focused .cursor{border-color:#000}.editor.is-focused .selection .region{background-color:#afc4da}.editor.is-focused .line-number.cursor-line-no-selection,.editor.is-focused .line.cursor-line{background-color:rgba(255,255,134,.34)}.editor .comment{color:#998}.editor .string{color:#d14}.editor .source .string .meta.embedded.line,.editor .source .string .source{color:#5a5a5a}.editor .source .string .punctuation.section.embedded,.editor .source .string .punctuation.section.embedded .source{color:#920b2d}.editor .constant.numeric{color:#d14}.editor .constant.character,.editor .constant.language,.editor .constant.other{color:#606aa1}.editor .constant.symbol{color:#990073}.editor .constant.numeric.line-number.find-in-files .match{color:rgba(143,190,0,.63)}.editor .variable{color:teal}.editor .variable.parameter{color:#606aa1}.editor .keyword{color:#222;font-weight:700}.editor .keyword.unit{color:#458}.editor .keyword.special-method{color:#0086b3}.editor .storage,.editor .storage.type{color:#222}.editor .entity.name.class,.editor .entity.other.inherited-class{text-decoration:underline;color:#606aa1}.editor .entity.name.function{color:#900}.editor .entity.name.tag{color:teal}.editor .entity.other.attribute-name{color:#458;font-weight:700}.editor .entity.name.filename.find-in-files{color:#e6db74}.editor .support.constant,.editor .support.function,.editor .support.type{color:#458}.editor .support.class{color:teal}.editor .invalid{color:#f8f8f0;background-color:#00a8c6}.editor .invalid.deprecated{color:#f8f8f0;background-color:#8fbe00}.editor .meta.structure.dictionary.json>.string.quoted.double.json,.editor .meta.structure.dictionary.json>.string.quoted.double.json .punctuation.string{color:navy}.editor .meta.structure.dictionary.value.json>.string.quoted.double.json{color:#d14}.editor .meta.diff,.editor .meta.diff.header{color:#75715e}.editor .css.support.property-name{font-weight:700;color:#333}.editor .css.constant{color:#099}.editor .source.gfm{color:#444}.editor .gfm .markup.heading{color:#111}.editor .gfm .link,.editor .gfm .variable.list{color:#888}.editor .markdown .paragraph{color:#444}.editor .markdown .heading{color:#111}.editor .markdown .link,.editor .markdown .link .string{color:#888}.editor .search-results .marker .region{background-color:transparent;border:1px solid #999}.editor .search-results .marker.current-result .region{border:1px solid #000}.bracket-matcher{background-color:#c9c9c9;opacity:.7;border-bottom:0 none}.editor .tag.block{display:inline}audio,canvas,progress,video{display:inline-block}/*! Bassplate | MIT License | http://github.com/basscss/bassplate *//*! normalize.css v5.0.0 | MIT License | github.com/necolas/normalize.css */html{font-family:sans-serif;line-height:1.15;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section{display:block}figure{margin:1em 40px}hr{box-sizing:content-box;height:0}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}a{background-color:transparent;-webkit-text-decoration-skip:objects}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:0;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0}sub{bottom:-.25em}sup{top:-.5em}audio:not([controls]){display:none;height:0}img{border-style:none}svg:not(:root){overflow:hidden}button,input,optgroup,select,textarea{font-family:sans-serif;font-size:100%;line-height:1.15;margin:0}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:ButtonText dotted 1px}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}.mr0,.mx0{margin-right:0}.mt0,.my0{margin-top:0}.mb0,.my0{margin-bottom:0}.p0,legend{padding:0}.list-reset,.pl0,.px0{padding-left:0}.pr0,.px0{padding-right:0}.pt0,.py0{padding-top:0}.pb0,.py0{padding-bottom:0}legend{box-sizing:border-box;color:inherit;display:table;white-space:normal}.ampstart-btn,.nowrap,.truncate{white-space:nowrap}textarea{overflow:auto}.overflow-hidden,.truncate{overflow:hidden}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}[hidden],template{display:none}.h1{font-size:3rem}.h2{font-size:2rem}.h3{font-size:1.5rem}.h4{font-size:1.125rem}.h5{font-size:.875rem}.h6{font-size:.75rem}.font-family-inherit{font-family:inherit}.font-size-inherit{font-size:inherit}.text-decoration-none{text-decoration:none}.bold{font-weight:700}.regular{font-weight:400}.italic{font-style:italic}.caps{text-transform:uppercase;letter-spacing:.2em}.left-align{text-align:left}.center{text-align:center}.right-align{text-align:right}.justify{text-align:justify}.break-word{word-wrap:break-word}.line-height-1{line-height:1rem}.line-height-2{line-height:1.125rem}.line-height-3{line-height:1.5rem}.line-height-4{line-height:2rem}.underline{text-decoration:underline}.truncate{text-overflow:ellipsis}.inline{display:inline}.block{display:block}.inline-block{display:inline-block}.table{display:table}.table-cell{display:table-cell}.overflow-scroll{overflow:scroll}.overflow-auto{overflow:auto}.clearfix:after,.clearfix:before{content:" ";display:table}.left{float:left}.right{float:right}.max-width-1{max-width:24rem}.max-width-2{max-width:32rem}.max-width-3{max-width:48rem}.max-width-4{max-width:64rem}.border-box{box-sizing:border-box}.align-top{vertical-align:top}.align-middle{vertical-align:middle}.align-bottom{vertical-align:bottom}.m0{margin:0}.ml0,.mx0{margin-left:0}.mr1,.mx1{margin-right:1rem}.mt1,.my1{margin-top:1rem}.mb1,.my1{margin-bottom:1rem}.m1{margin:1rem}.ml1,.mx1{margin-left:1rem}.mr2,.mx2{margin-right:1.5rem}.mt2,.my2{margin-top:1.5rem}.mb2,.my2{margin-bottom:1.5rem}.m2{margin:1.5rem}.ml2,.mx2{margin-left:1.5rem}.mr3,.mx3{margin-right:2rem}.mt3,.my3{margin-top:2rem}.mb3,.my3{margin-bottom:2rem}.m3{margin:2rem}.ml3,.mx3{margin-left:2rem}.mr4,.mx4{margin-right:2.5rem}.mt4,.my4{margin-top:2.5rem}.mb4,.my4{margin-bottom:2.5rem}.m4{margin:2.5rem}.ml4,.mx4{margin-left:2.5rem}.mxn1{margin-left:-1rem;margin-right:-1rem}.mxn2{margin-left:-1.5rem;margin-right:-1.5rem}.mxn3{margin-left:-2rem;margin-right:-2rem}.mxn4{margin-left:-2.5rem;margin-right:-2.5rem}.ml-auto,.mx-auto{margin-left:auto}.mr-auto,.mx-auto{margin-right:auto}.pl1,.px1{padding-left:1rem}.pr1,.px1{padding-right:1rem}.pt1,.py1{padding-top:1rem}.pb1,.py1{padding-bottom:1rem}.p1{padding:1rem}.pt2,.py2{padding-top:1.5rem}.pb2,.py2{padding-bottom:1.5rem}.pl2,.px2{padding-left:1.5rem}.pr2,.px2{padding-right:1.5rem}.p2{padding:1.5rem}.pt3,.py3{padding-top:2rem}.pb3,.py3{padding-bottom:2rem}.pl3,.px3{padding-left:2rem}.pr3,.px3{padding-right:2rem}.p3{padding:2rem}.pt4,.py4{padding-top:2.5rem}.pb4,.py4{padding-bottom:2.5rem}.pl4,.px4{padding-left:2.5rem}.pr4,.px4{padding-right:2.5rem}.p4{padding:2.5rem}h1,h2,h3,h4,h5,h6,p{margin:0;padding:0}.col{float:left}.col,.col-right{box-sizing:border-box}.col-right{float:right}.col-1{width:8.33333%}.col-2{width:16.66667%}.col-3{width:25%}.col-4{width:33.33333%}.col-5{width:41.66667%}.col-6{width:50%}.col-7{width:58.33333%}.col-8{width:66.66667%}.col-9{width:75%}.col-10{width:83.33333%}.col-11{width:91.66667%}.col-12{width:100%}.flex{display:-webkit-box;display:-ms-flexbox;display:flex}@media(min-width:40.06rem){.sm-col,.sm-col-right{box-sizing:border-box}.sm-col{float:left}.sm-col-right{float:right}.sm-col-1{width:8.33333%}.sm-col-2{width:16.66667%}.sm-col-3{width:25%}.sm-col-4{width:33.33333%}.sm-col-5{width:41.66667%}.sm-col-6{width:50%}.sm-col-7{width:58.33333%}.sm-col-8{width:66.66667%}.sm-col-9{width:75%}.sm-col-10{width:83.33333%}.sm-col-11{width:91.66667%}.sm-col-12{width:100%}.sm-flex{display:-webkit-box;display:-ms-flexbox;display:flex}}@media(min-width:52.06rem){.md-col,.md-col-right{box-sizing:border-box}.md-col{float:left}.md-col-right{float:right}.md-col-1{width:8.33333%}.md-col-2{width:16.66667%}.md-col-3{width:25%}.md-col-4{width:33.33333%}.md-col-5{width:41.66667%}.md-col-6{width:50%}.md-col-7{width:58.33333%}.md-col-8{width:66.66667%}.md-col-9{width:75%}.md-col-10{width:83.33333%}.md-col-11{width:91.66667%}.md-col-12{width:100%}.md-flex{display:-webkit-box;display:-ms-flexbox;display:flex}}@media(min-width:64.06rem){.lg-col,.lg-col-right{box-sizing:border-box}.lg-col{float:left}.lg-col-right{float:right}.lg-col-1{width:8.33333%}.lg-col-2{width:16.66667%}.lg-col-3{width:25%}.lg-col-4{width:33.33333%}.lg-col-5{width:41.66667%}.lg-col-6{width:50%}.lg-col-7{width:58.33333%}.lg-col-8{width:66.66667%}.lg-col-9{width:75%}.lg-col-10{width:83.33333%}.lg-col-11{width:91.66667%}.lg-col-12{width:100%}.lg-flex{display:-webkit-box;display:-ms-flexbox;display:flex}.lg-hide{display:none}}.flex-column{-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.flex-wrap{-ms-flex-wrap:wrap;flex-wrap:wrap}.items-start{-webkit-box-align:start;-ms-flex-align:start;align-items:flex-start}.items-end{-webkit-box-align:end;-ms-flex-align:end;align-items:flex-end}.items-center{-webkit-box-align:center;-ms-flex-align:center;align-items:center}.items-baseline{-webkit-box-align:baseline;-ms-flex-align:baseline;align-items:baseline}.items-stretch{-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch}.self-start{-ms-flex-item-align:start;align-self:flex-start}.self-end{-ms-flex-item-align:end;align-self:flex-end}.self-center{-ms-flex-item-align:center;-ms-grid-row-align:center;align-self:center}.self-baseline{-ms-flex-item-align:baseline;align-self:baseline}.self-stretch{-ms-flex-item-align:stretch;-ms-grid-row-align:stretch;align-self:stretch}.justify-start{-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start}.justify-end{-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end}.justify-center{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.justify-between{-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.justify-around{-ms-flex-pack:distribute;justify-content:space-around}.content-start{-ms-flex-line-pack:start;align-content:flex-start}.content-end{-ms-flex-line-pack:end;align-content:flex-end}.content-center{-ms-flex-line-pack:center;align-content:center}.content-between{-ms-flex-line-pack:justify;align-content:space-between}.content-around{-ms-flex-line-pack:distribute;align-content:space-around}.content-stretch{-ms-flex-line-pack:stretch;align-content:stretch}.flex-auto{-webkit-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto;min-width:0;min-height:0}.flex-none{-webkit-box-flex:0;-ms-flex:none;flex:none}.order-0{-webkit-box-ordinal-group:1;-ms-flex-order:0;order:0}.order-1{-webkit-box-ordinal-group:2;-ms-flex-order:1;order:1}.order-2{-webkit-box-ordinal-group:3;-ms-flex-order:2;order:2}.order-3{-webkit-box-ordinal-group:4;-ms-flex-order:3;order:3}.order-last{-webkit-box-ordinal-group:100000;-ms-flex-order:99999;order:99999}.absolute{position:absolute}.fixed{position:fixed}.top-0{top:0}.right-0{right:0}.bottom-0{bottom:0}.left-0{left:0}.z1{z-index:1}.z2{z-index:2}.z3{z-index:3}.z4{z-index:4}.border{border-style:solid;border-width:1px}.border-top{border-top-style:solid;border-top-width:1px}.border-right{border-right-style:solid;border-right-width:1px}.border-bottom{border-bottom-style:solid;border-bottom-width:1px}.border-left{border-left-style:solid;border-left-width:1px}.border-none{border:0}.rounded{border-radius:3px}.circle{border-radius:50%}.rounded-top{border-radius:3px 3px 0 0}.rounded-right{border-radius:0 3px 3px 0}.rounded-bottom{border-radius:0 0 3px 3px}.rounded-left{border-radius:3px 0 0 3px}.not-rounded{border-radius:0}.hide{position:absolute;height:1px;width:1px;overflow:hidden;clip:rect(1px,1px,1px,1px)}@media(max-width:40rem){.xs-hide{display:none}}@media(min-width:40.06rem) and (max-width:52rem){.sm-hide{display:none}}@media(min-width:52.06rem) and (max-width:64rem){.md-hide{display:none}}.display-none{display:none}.www-component-anchor[selected]:after,.www-component-desc:target:before,.www-heading:after{display:block;content:""}*{box-sizing:border-box}body{background:#fff;color:#4a4a4a;line-height:1.5rem;font-family:Montserrat,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Arial,sans-serif;min-width:315px;overflow-x:hidden;font-smooth:always;-webkit-font-smoothing:antialiased}main{max-width:100%;margin:0 auto}.ampstart-subtitle{color:#4f4f4f;font-size:.875rem}.ampstart-accent{color:#003f93}#content:target{margin-top:calc(0px - 3.5rem);padding-top:3.5rem}.ampstart-card{box-shadow:0 1px 1px 0 rgba(0,0,0,.14),0 1px 1px -1px rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}.h1,h1{font-size:3rem;line-height:3.5rem}.h2,h2{font-size:2rem;line-height:2.5rem}.h3,h3{font-size:1.5rem;line-height:2rem}.h4,h4{font-size:1.125rem;line-height:1.5rem}.h5,h5{font-size:.875rem;line-height:1.125rem}.h6,h6{font-size:.75rem;line-height:1rem}h1,h2,h3,h4,h5,h6{font-weight:400;letter-spacing:.06em}.www-component-desc h3,.www-heading{letter-spacing:inherit}a,a:active,a:visited{color:inherit}.ampstart-btn,.ampstart-btn:visited{color:#b60845}.ampstart-btn{font-family:inherit;font-weight:inherit;font-size:1rem;line-height:1.125rem;padding:.7em .8em;text-decoration:none;word-wrap:normal;vertical-align:middle;cursor:pointer;background-color:#fff;border:1px solid #b60845}.ampstart-btn-secondary{background-color:#b60845;color:#fff;border:1px solid #fff}.ampstart-btn-secondary:visited{color:#fff}.ampstart-btn:active .ampstart-btn:focus{opacity:.8}.ampstart-btn[disabled],.ampstart-btn[disabled]:active,.ampstart-btn[disabled]:focus,.ampstart-btn[disabled]:hover{opacity:.5;outline:0;cursor:default}.ampstart-dropcap{padding-top:1.5rem;margin-top:2rem}.ampstart-dropcap:first-letter {color:#fff;font-size:3rem;font-weight:700;margin-left:-2px}.ampstart-pullquote{border:0;border-left:4px solid #fff;font-size:1.5rem;padding-left:2rem}.www-header,h1,h2,h3,h4,h5,h6{font-family:Inconsolata,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Arial,sans-serif}.ampstart-headerbar-nav .ampstart-nav-item{padding-right:1rem}.ampstart-headerbar-nav .ampstart-nav-item.www-current-page{color:#066573}.ampstart-headerbar-nav .ampstart-nav-item.www-current-page:after,.www-component-anchor[selected]:after{content:"";display:block;height:4px;background:linear-gradient(90deg,#94103e 0,#db004d)}.www-header{background-image:linear-gradient(90deg,#94103e 0,#db004d);padding:7rem 0;color:#fff;-webkit-clip-path:polygon(100% 100%,100% 0,-400% 0);clip-path:polygon(100% 100%,100% 0,-400% 0)}.www-heading{color:#000}.www-heading:after{height:2px;width:2.5rem;background:#4a4a4a;position:absolute;bottom:0}.ampstart-footer{position:relative}.ampstart-footer:before{content:"";position:absolute;width:100%;height:35px;background-image:linear-gradient(90deg,#94103e 0,#db004d);top:0;left:0;right:0}.ampstart-device-preview-mask,.ampstart-device-preview-select{background:#f9f7f7}.ampstart-device-preview-select{box-shadow:0 0 5px 2px rgba(0,0,0,.1)}.www-components-sec-nav{padding-top:7rem;margin-top:calc(-1 * 7rem);box-shadow:5px 0 5px -5px rgba(0,0,0,.4);min-width:160px}.www-component-anchors{position:-webkit-sticky;position:sticky;top:7rem}body .www-component-anchors .www-component-anchor[option][selected]{outline:0}.www-component-anchor[selected]:after{height:4px;background:linear-gradient(90deg,#94103e 0,#db004d)}.www-header>*{padding-left:7rem;padding-right:7rem}.www-component-desc>*{padding-left:5rem;padding-right:5rem}.www-component-desc{margin-bottom:5rem}.www-component-desc:target:before{height:3.5rem}.www-component-desc [placeholder]{background:#fff}.www-component-rendered{margin-top:3.5rem}.www-component-desc pre{font-family:monospace;line-height:1rem;font-size:1.125rem;white-space:pre-line;background:#f9f7f7;overflow-y:auto;margin:0}.www-example-code,.www-example-code h3{background:#f9f7f7}.www-example-code amp-accordion h3:after{content:"";background:url(img/www/caret.svg) no-repeat;width:11px;height:7px;display:inline-block;margin-left:2rem}.www-example-code amp-accordion [expanded] h3:after{-webkit-transform:scaleY(-1);transform:scaleY(-1)}@media(max-width:40rem){.www-component-desc>*{padding-left:0;padding-right:0}.www-component-desc{margin-bottom:3.5rem}.www-components{margin-right:1.5rem}.www-header>*{padding-left:1.5rem;padding-right:1.5rem}}@media(min-width:40.06rem) and (max-width:52rem){.www-components{margin-right:1.5rem}.www-header{margin-left:calc(-1 * 1rem)}.www-header>*{padding-left:0;padding-right:0}}@media(max-width:363px){.www-component-iframe-container>amp-iframe{-webkit-transform:scale(.792);transform:scale(.792);-webkit-transform-origin:0 0;transform-origin:0 0;width:343px}}.ampstart-nav-item .abe-list-shadow::before,.ampstart-nav-item.abe-nav-list::before{box-shadow:0 0 40px 0 rgba(0,0,0,.1);content:'';position:absolute}*{-webkit-tap-highlight-color:rgba(255,255,255,0)}body{font-family:Montserrat,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,Arial,sans-serif}a.abe-primary{color:#b60845}.abe-info{background:#fffde7}.ampstart-nav-item{position:relative}.ampstart-nav-item.abe-nav-list::before{bottom:0;left:-10px;opacity:0;right:-10px;top:10px;transition:opacity .2s ease-out}.ampstart-nav-item.abe-nav-list:hover::before{opacity:1}.ampstart-nav-item .abe-list-container{left:-10px;top:100%;transition:.2s ease-out;z-index:-1}.ampstart-nav-item:hover .abe-list-container{opacity:1;pointer-events:all;z-index:0}.ampstart-nav-item .abe-list-shadow{bottom:-50px;left:-50px;overflow:hidden;position:absolute;right:-50px;top:0}.ampstart-nav-item .abe-list-shadow::before{bottom:50px;left:50px;right:50px;top:0}.ampstart-nav-item .abe-list-container>ul{background:#fff;min-width:250px;position:relative;margin:0;padding:0;list-style:none}.ampstart-nav-item .abe-list-container>ul li{box-sizing:border-box;position:relative}.ampstart-nav-item .abe-list-container>ul li a{display:block;padding:7.5px 30px;color:#333;font-size:16px;line-height:26px}.ampstart-nav-item .abe-list-container>ul li:hover{background:#f8f8f8}.abe-sublist,.ampstart-nav-item .abe-list-container{opacity:0;pointer-events:none;position:absolute}.ampstart-nav-item .abe-list-container .abe-sublist::-webkit-scrollbar{-webkit-appearance:none;width:6px}.ampstart-nav-item .abe-list-container .abe-sublist::-webkit-scrollbar-thumb{border-radius:4px;background-color:rgba(0,0,0,.2);-webkit-box-shadow:0 0 1px rgba(255,255,255,.2)}.ampstart-nav-item .abe-list-container .abe-sublist{background:#f8f8f8;box-shadow:0 0 40px 0 rgba(0,0,0,.1);right:0;top:0;transform:translateX(99%);transition:opacity .3s;max-height:calc(100vh - 180px);overflow-y:auto}.ampstart-nav-item .abe-list-container>ul li:hover .abe-sublist{opacity:1;pointer-events:all}.ampstart-nav-item .abe-list-container>ul .abe-sublist li:hover,.ampstart-nav-item .abe-list-container>ul li:hover .abe-sublist li:hover{background:#fff}.ampstart-nav-item .abe-list-container>ul li.abe-has-sublist::after{width:24px;height:24px;content:'';position:absolute;right:16px;top:8px;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNHB4IiBoZWlnaHQ9IjI0cHgiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0iI2NjY2NjYyI+DQogICAgPHBhdGggZD0iTTEwIDZMOC41OSA3LjQxIDEzLjE3IDEybC00LjU4IDQuNTlMMTAgMThsNi02eiIvPg0KICAgIDxwYXRoIGQ9Ik0wIDBoMjR2MjRIMHoiIGZpbGw9Im5vbmUiLz4NCjwvc3ZnPg==)}.www-components-sec-nav{min-width:200px}.ampstart-card a,.www-component-desc li a,.www-component-desc p a{text-decoration:none;color:#b60845}.ampstart-headerbar-nav .ampstart-nav-item.www-current-page{color:#b60845}.ampstart-nav-dropdown .ampstart-dropdown-item{color:#b60845;margin:0}.ampstart-icon,.ampstart-sidebar .ampstart-icon{fill:#b60845}.ampstart-dropdown-item a{display:block;padding:8px}.ampstart-dropdown-item a:active,.ampstart-sidebar .ampstart-dropdown header:active{background:#f2f2f2}.ampstart-sidebar .ampstart-dropdown header{padding:1rem 0;margin:0}.ampstart-sidebar .ampstart-social-follow{margin-top:1rem}.ampstart-dropdown>section>header:after{color:#b60845;padding:0 0 0 .5rem}.ampstart-sidebar{width:340px}.ampstart-input>label{color:#b60845}.ampstart-input>label:after{background:#b60845}.ampstart-input input[type=checkbox],.ampstart-input input[type=radio]{border:1px solid #b60845}.ampstart-input input[type=checkbox]:after,.ampstart-input input[type=checkbox]:checked,.ampstart-input input[type=checkbox]:checked:after,.ampstart-input input[type=radio]:after,.ampstart-input input[type=radio]:checked{background:0}.ampstart-input input[type=radio]:checked:after{background:#b60845}.ampstart-btn.disabled{pointer-events:none;opacity:.5}.ampstart-btn,.ampstart-btn[disabled],.ampstart-btn[disabled]:focus,.ampstart-btn[disabled]:hover,a.ampstart-btn,a.ampstart-btn[disabled],a.ampstart-btn[disabled]:focus,a.ampstart-btn[disabled]:hover{color:#b60845;border:1px solid #b60845}.ampstart-btn:active,.ampstart-btn:focus,.ampstart-btn:hover,a.ampstart-btn:active,a.ampstart-btn:focus,a.ampstart-btn:hover{color:#db004d;border:1px solid #db004d}.ampstart-btn-secondary:active,.ampstart-btn-secondary:focus,.ampstart-btn-secondary:hover,a.ampstart-btn-secondary:active,a.ampstart-btn-secondary:focus,a.ampstart-btn-secondary:hover{color:#fff;background:#db004d;border:1px solid #fff}.ampstart-btn-secondary,.ampstart-btn-secondary[disabled],.ampstart-btn-secondary[disabled]:focus,.ampstart-btn-secondary[disabled]:hover,a.ampstart-btn-secondary,a.ampstart-btn-secondary.disabled,a.ampstart-btn-secondary.disabled:focus,a.ampstart-btn-secondary.disabled:hover{color:#fff;background:#b60845;border:1px solid #fff}.abe-sample-card{background:#f9f7f7;min-width:240px;width:0;max-width:380px;flex:1 1 240px}@media(min-width:600px){.abe-sample-card{margin-right:1rem}}.abe-sample-card .ampstart-btn{padding:8px}.abe-sample-card .ampstart-btn:not(.ampstart-btn-secondary){background-color:transparent}.abe-sample-card a.ampstart-btn-secondary:active,.abe-sample-card a.ampstart-btn-secondary:focus,.abe-sample-card a.ampstart-btn-secondary:hover,.abe-sample-card a.ampstart-btn-secondary,.abe-sample-card a.ampstart-btn-secondary.disabled,.abe-sample-card a.ampstart-btn-secondary.disabled:focus,.abe-sample-card a.ampstart-btn-secondary.disabled:hover,.abe-sample-card a.ampstart-btn-secondary{border:1px solid #b60845}.abe-sample-card-actions{margin-top:auto}.abe-experiment{position:absolute;display:inline-block;margin:4px;width:24px;height:24px;background-image:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNHB4IiBoZWlnaHQ9IjI0cHgiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0iIzAwMDAwMCI+PHBhdGggZmlsbD0ibm9uZSIgZD0iTS02MTgtMTA4MEg3ODJ2MzYwMEgtNjE4ek0wIDBoMjR2MjRIMHoiLz48cGF0aCBkPSJNMjAuNzIgMTcuNzFMMTUgOS44MlY1LjA4aDJ2LTJIN3YyaDJ2NC43M0wzLjE0IDE3LjljLS40NC42MS0uNSAxLjQxLS4xNiAyLjA4LjM0LjY3IDEuMDMgMS4wOSAxLjc4IDEuMDloMTQuNWMxLjEgMCAyLS45IDItMiAwLS41Mi0uMjEtMS0uNTQtMS4zNnoiLz48L3N2Zz4=")}.www-header>span{margin-left:auto;margin-right:auto}.abe-sample-card-filler{height:0;background:0}.abe-code-preview,code{background:#f9f7f7}amp-instagram{box-sizing:content-box}.www-component-desc pre,code,pre{font-family:Consolas,Menlo,Monaco,Lucida Console,Liberation Mono,DejaVu Sans Mono,Bitstream Vera Sans Mono,Courier New,monospace,sans-serif;font-size:.9rem;white-space:pre-wrap}.www-component-desc pre,pre{font-size:14px;overflow:scroll;-moz-tab-size:2;-o-tab-size:2;tab-size:2;word-break:normal;line-height:1.4}pre>code{padding:0}code{padding:2px 4px}.www-component-desc:last-child{padding-bottom:4rem}.www-component-desc>p>amp-img{display:block;margin:0 auto}.www-component-desc ol,.www-component-desc ul{list-style:inside}.www-component-desc>pre{font-size:.9rem;white-space:pre-wrap}.www-component-desc>amp-iframe,.www-component-desc>amp-img,.www-component-desc>div,.www-component-desc>pre{margin-left:5rem;margin-right:5rem;margin-bottom:2rem;padding:0}.www-component-desc>.ampstart-card,.www-component-desc>pre{padding:1rem}@media(max-width:40rem){.www-component-desc>amp-iframe,.www-component-desc>amp-img,.www-component-desc>div,.www-component-desc>pre{margin-left:0;margin-right:0}}.www-header h1{color:#fff}.abe-code pre,.www-component-desc>pre>code{white-space:pre-wrap;overflow-x:auto;padding:0;margin:0}.abe-code-container{padding:0;margin:0}.www-component-desc{margin-bottom:0}.www-component-desc:first-child h2{margin-top:0}.www-component-desc h2{margin-top:5rem;margin-bottom:2rem}.abe-preview{background:#fff;overflow:hidden}.abe-preview>figure,.abe-preview>h1,.abe-preview>h2,.abe-preview>h3,.abe-preview>h4,.abe-preview>p,.abe-preview>section{padding:1rem}h1{color:red}</style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/tomorrow-night-eighties.min.css">
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.4.0/languages/dockerfile.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.4.0/languages/yaml.min.js"></script>
    <script src="//code.jquery.com/jquery-3.2.1.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <style>
        pre {
            overflow: hidden !important;
        }    
    </style>
    <style>
        pre {
            overflow: hidden !important;
        }
        
        .comment-form {
            font: 95% Arial, Helvetica, sans-serif;
            max-width: 400px;
            margin: 10px auto;
            padding: 16px;
            background: #F7F7F7;
        }

        .comment-form h1 {
            background: #02A854;
            padding: 20px 0;
            font-size: 140%;
            font-weight: 300;
            text-align: center;
            color: #fff;
            margin: -16px -16px 16px -16px;
        }

        .comment-form input[type="text"],
        .comment-form input[type="date"],
        .comment-form input[type="datetime"],
        .comment-form input[type="email"],
        .comment-form input[type="number"],
        .comment-form input[type="search"],
        .comment-form input[type="time"],
        .comment-form input[type="url"],
        .comment-form textarea,
        .comment-form select {
            -webkit-transition: all 0.30s ease-in-out;
            -moz-transition: all 0.30s ease-in-out;
            -ms-transition: all 0.30s ease-in-out;
            -o-transition: all 0.30s ease-in-out;
            outline: none;
            box-sizing: border-box;
            -webkit-box-sizing: border-box;
            -moz-box-sizing: border-box;
            width: 100%;
            background: #fff;
            margin-bottom: 4%;
            border: 1px solid #ccc;
            padding: 3%;
            color: #555;
            font: 95% Arial, Helvetica, sans-serif;
        }

        .comment-form input[type="text"]:focus,
        .comment-form input[type="date"]:focus,
        .comment-form input[type="datetime"]:focus,
        .comment-form input[type="email"]:focus,
        .comment-form input[type="number"]:focus,
        .comment-form input[type="search"]:focus,
        .comment-form input[type="time"]:focus,
        .comment-form input[type="url"]:focus,
        .comment-form textarea:focus,
        .comment-form select:focus {
            box-shadow: 0 0 5px #02A854;
            padding: 3%;
            border: 1px solid #02A854;
        }

        .comment-form button[type="submit"],
        .comment-form button[type="button"] {
            box-sizing: border-box;
            -webkit-box-sizing: border-box;
            -moz-box-sizing: border-box;
            width: 100%;
            padding: 3%;
            background: #02A854;
            border-bottom: 2px solid #25B46B;
            border-top-style: none;
            border-right-style: none;
            border-left-style: none;
            color: #fff;
        }

        .comment-form button[type="submit"]:hover,
        .comment-form button[type="button"]:hover {
            background: #49C285;
        }

        .comment-form button[type="submit"]:disabled,
        .comment-form button[type="button"]:disabled {
            background: lightgrey;
            border-bottom: grey;
            
        }

    </style>
    <style>
         
@import url(//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css);
 
.comment-list .row {
  background: #F7F7F7;
  padding: 0px 25px;
  padding-top: 5px;
  padding-bottom: 15px;
  margin: 25px 0;
}
.comment-list .panel .panel-heading {
  padding: 4px 15px;
  position: absolute;
  border:none;
   
  border-top-right-radius:0px;
  top: 1px;
}
.comment-list .panel .panel-heading.right {
  border-right-width: 0px;
   
  border-top-left-radius:0px;
  right: 16px;
}
.comment-list .panel .panel-heading .panel-body {
  padding-top: 6px;
}
.comment-list figcaption {
   
  word-wrap: break-word;
}
 
@media (min-width: 768px) {
  .comment-list .arrow:after, .comment-list .arrow:before {
    content: "";
    position: absolute;
    width: 0;
    height: 0;
    border-style: solid;
    border-color: transparent;
  }
  .comment-list .panel.arrow.left:after, .comment-list .panel.arrow.left:before {
    border-left: 0;
  }
   
   
  .comment-list .panel.arrow.left:before {
    left: 0px;
    top: 30px;
     
    border-right-color: inherit;
    border-width: 16px;
  }
   
  .comment-list .panel.arrow.left:after {
    left: 1px;
    top: 31px;
     
    border-right-color: #FFFFFF;
    border-width: 15px;
  }
   
   
  .comment-list .panel.arrow.right:before {
    right: -16px;
    top: 30px;
     
    border-left-color: inherit;
    border-width: 16px;
  }
   
  .comment-list .panel.arrow.right:after {
    right: -14px;
    top: 31px;
     
    border-left-color: #FFFFFF;
    border-width: 15px;
  }
}
.comment-list .comment-post {
  margin-top: 6px;
}
    </style>
</head>

<body>
    
    <header class="ampstart-headerbar fixed flex justify-start items-center top-0 left-0 right-0 pl2 pr4">
        <div role="button" on="tap:header-sidebar.toggle" tabindex="0" class="ampstart-navbar-trigger md-hide lg-hide pr2">☰</div>
        <a href="/" class="my0 mx-auto">
            Wright Development
            
        </a>
        <nav class="ampstart-headerbar-nav ampstart-nav xs-hide sm-hide">
            <ul class="list-reset m0 p0 flex justify-center nowrap">
            
            
              
                <li class="ampstart-nav-item"><a href="/contact-me/" class="text-decoration-none block">Contact Me</a></li>
              
            
            </ul>
        </nav>
    </header>
    
    <amp-sidebar id="header-sidebar" class="ampstart-sidebar px3 flex flex-column md-hide lg-hide" layout="nodisplay">
        <div class="flex justify-start items-center ampstart-sidebar-header"><a href="#" on="tap:header-sidebar.toggle" class="ampstart-navbar-trigger items-start">✕</a></div>
        <nav class="ampstart-sidebar-nav ampstart-nav">
          
          
            
                <a href="/contact-me/" class="block caps h5 py1 abe-primary">Contact Me</a>
            
          
        </nav>
    </amp-sidebar>
    
    

<header class="www-header center">
    <h1 class="mb1">Using Docker for .NET Core Integration Testing</h1>
    <div class="www-index-header-action mx-auto">Sat, Sep 16, 2017</div>
    <div class="www-index-header-action mx-auto">
        
    </div>
    <div class="www-index-header-action mx-auto">
        
        <a href="/%20/tags/%20docker">#docker</a> 
        <a href="/%20/tags/%20docker-compose">#docker compose</a> 
        <a href="/%20/tags/%20dotnet">#dotnet</a> 
        <a href="/%20/tags/%20dotnet-core">#dotnet core</a> 
        <a href="/%20/tags/%20web-service">#web service</a> 
        <a href="/%20/tags/%20testing">#testing</a> 
        <a href="/%20/tags/%20integration-test">#integration test</a> 
        <a href="/%20/tags/%20mysql">#MySql</a> 
    </div>

    
</header>
<amp-selector layout="container">
    <main class="flex pl2">
        
        <aside class="col-1 xs-hide"></aside>

        <article class="www-components flex-auto col-10">
            <section class="www-component-desc">
                

<p>Recently at work, we have been discussing how to perform integration tests on .NET Core services. From previous experience, integration testing can be quite a messy process especially when performing reads and writes to a database.
<br>
<br>
Have you ever had an issue with maintaining consistently correct data? Sharing a database with multiple developers? Or even setting up your own data without interfering with your teammates? If any of these problems sound familiar then docker can be the solution for you.
<br>
<br>
Docker provides a great way for you to stand up services, databases, and other resources locally through containers. In addition, with docker compose, we can set up multiple containers and define the interactions between them. For example, we can start our service and have it communicate with a container running a MySQL database.</p>

<p><br></p>

<h2 id="setting-up-the-project">Setting up the project</h2>

<p>This post assumes that you have some experience with using Docker, .NET Core, and writing tests with XUnit. If not, check out the links below for additional help.</p>

<ul>
<li><a href="https://docs.docker.com/get-started/#conclusion">Docker Getting Started</a></li>
<li><a href="https://docs.microsoft.com/en-us/dotnet/core/get-started">.NET Core Getting Started</a></li>
<li><a href="https://xunit.github.io/docs/getting-started-desktop.html#write-first-tests">XUnit writing your first test</a>
<br>
<br>
<strong>Tools Needed: docker, dotnet cli</strong>
<br>
<strong><a href="https://github.com/wright-development/dotnet-docker-integration-testing">Source Code</a></strong>
<br></li>
</ul>

<p>Before working with docker, we need to set up the project structure, install the packages that we need, create some code to test and create an integration test to run. So let&rsquo;s get started!
<br>
<br>
Feel free to set up the project using the dotnet cli, Visual Studio, or any other means. Be sure to set the project up in the following format.</p>

<pre>
TodoService/
├── src/
│   └── TodoService/
│       └── TodoService.csproj
├── test/
│  └── TodoService.Integration.Tests/
│       └── TodoService.Integration.Tests.csproj
└── TodoService.sln
</pre>

<p>The TodoService is a WebAPI project <strong>(Target Framework netcoreapp1.1)</strong>, and the TodoService.Integration.Tests project is a XUnit test project <strong>(Target Framework netcoreapp1.1)</strong>.
<br>
<strong>Check out the <a href="https://github.com/wright-development/dotnet-docker-integration-testing">source code</a> for more clarification.</strong>
<br>
<br>
Now that the service and test projects have been set up, we will need to install the following packages.</p>

<ul>
<li>TodoService

<ul>
<li>Dapper@1.50.2</li>
<li>Microsoft.AspNetCore@1.1.2</li>
<li>Microsoft.AspNetCore.Mvc@1.1.3</li>
<li>MySql.Data.Core@7.0.4-ir-19</li>
<li>Newtonsoft.JSON@10.0.3</li>
</ul></li>
<li>TodoService.Integration.Tests

<ul>
<li><strong>This project will need to reference the TodoService project</strong></li>
<li>Dapper@1.50.2</li>
<li>MySql.Data.Core@7.0.4-ir-19</li>
<li>Newtonsoft.JSON@10.0.3</li>
<li>Shouldly@2.8.3 (Or a different assertion framework.)</li>
</ul></li>
</ul>

<p><br>
Next up, we need to implement the TodoController.
<br>
<br></p>

<pre><code class="language-csharp">// *********************************************
// src/TodoService/Controllers/TodoController.cs
// *********************************************

namespace TodoService.Controllers
{
    //Our simple todo model that we will use to map objects in dapper
    public class TodoModel
    {
        [JsonProperty(&quot;text&quot;)]
        public string Text { get; set; }

        [JsonProperty(&quot;id&quot;)]        
        public string Id { get; set; }

        [JsonProperty(&quot;checked&quot;)]        
        public bool Checked {get;set;}
    }

    [Route(&quot;api/[controller]&quot;)]
    public class TodoController
    {

        private string _connectionString;

        public TodoController()
        {
            //This environment variable will be assigned in the docker-compose file to connect to the database
            _connectionString = Environment.GetEnvironmentVariable(&quot;CONNECTION_STRING&quot;);
        }

        [HttpPost]
        public TodoModel Post([FromBody]TodoModel model)
        {
            using (var connection = new MySqlConnection(_connectionString))
            {
                var id = connection.Query&lt;string&gt;(&quot;INSERT INTO todo (text, checked) values (@Text, @Checked); SELECT LAST_INSERT_ID();&quot;, model).Single();
                return Get(id);
            }
        }

        [HttpGet(&quot;{id}&quot;)]
        public TodoModel Get(string id)
        {
            using(var connection = new MySqlConnection(_connectionString))
            {
                return connection.Query&lt;TodoModel&gt;(&quot;SELECT id,checked,text FROM todo WHERE id=@Id&quot;, new {Id=id}).FirstOrDefault();
            }
        }
    }
}
</code></pre>

<p>Now let&rsquo;s add an integration test.
<br>
<br></p>

<pre><code class="language-csharp">
//***************************************
// test/TodoService.IntegrationTests/TodoEndpointTests.cs
//***************************************
namespace TodoService.IntegrationTests
{
    public class TodoEndpointTests : IDisposable
    {
        private string _endpoint = &quot;/api/todo&quot;;
        private string _url;
        private string _connectionString;

        public TodoEndpointTests()
        {
            // This environment variable will be supplied by the docker compose, we will use this to make our api calls against our service.
            _url = Environment.GetEnvironmentVariable(&quot;API_URL&quot;) + _endpoint;
            _connectionString = Environment.GetEnvironmentVariable(&quot;CONNECTION_STRING&quot;);
        }
        
        [Fact]
        public async void should_assign_id_on_post()
        {
            var client = new HttpClient();
            var expectedModel = new TodoModel{ Checked = false, Text = &quot;Test Text&quot; };
            var result = await client.PostAsync(_url, new StringContent(JsonConvert.SerializeObject(expectedModel),Encoding.UTF8, &quot;application/json&quot;));

            var jsonString= await result.Content.ReadAsStringAsync();
            Console.WriteLine(&quot;Results: &quot; + jsonString);
            var actualModel = JsonConvert.DeserializeObject&lt;TodoModel&gt;(jsonString);

            actualModel.Id.ShouldNotBeEmpty();
        }

        public void Dispose()
        {
            using(var connection = new MySqlConnection(_connectionString))
            {
                //Clear the data after each test
                connection.Execute(&quot;truncate todo&quot;);
            }
        }
    }
}
</code></pre>

<p>Finally, we need table to store the todos that will be created by the application. This SQL script will be located in the <strong>Scripts</strong> folder at the root of the solution.</p>

<pre><code class="language-sql"># /Scripts/InitialSchema.sql
USE todosdb;

CREATE TABLE IF NOT EXISTS todo (id SERIAL, text VARCHAR(100), checked BOOLEAN)
</code></pre>

<p>Alright, now that the project has been set up let&rsquo;s write up some docker files. <strong>All of the docker files will be located at the root of the solution (/TodoService).</strong>
<br>
<br></p>

<h2 id="docker-setup">Docker Setup</h2>

<p>Oh boy! The moment that we have all been waiting for, it&rsquo;s Docker time!
<br>
<br>
There are a few docker files needed to run our integration tests.</p>

<ol>
<li>Dockerfile - This will be used to build the service, publish the service&rsquo;s content, and copy the published content into a container.</li>
<li>Dockerfile.integration - This will be used to build and restore the integration test project, getting it ready to run the tests.</li>
<li>docker-compose-integration.xml - This will be used to stand up our MySql database, Todo service, and run our integration tests against the service.</li>
</ol>

<h3 id="dockerfile">Dockerfile</h3>

<p><br>
For the <strong>Dockerfile</strong> we are going to use <a href="https://docs.docker.com/engine/userguide/eng-image/multistage-build/">multi stage builds</a> to both build and publish our service into an image.
<br>
<br></p>

<pre><code class="language-dockerfile"># /Dockerfile
FROM microsoft/dotnet:1.1.2-sdk as builder
COPY . /code
WORKDIR /code/src/TodoService
RUN dotnet restore &amp;&amp; dotnet publish -c Release -o publish

FROM microsoft/dotnet:1.1.2-runtime
COPY --from=builder /code/src/TodoService/publish /app
WORKDIR /app
ENV ASPNETCORE_URLS=&quot;http://*:5000&quot;
EXPOSE 5000
# This is used to wait until resources have started, in the docker compose
RUN curl https://raw.githubusercontent.com/vishnubob/wait-for-it/master/wait-for-it.sh &gt; wait_for_it.sh
ENTRYPOINT [ &quot;dotnet&quot;, &quot;/app/TodoService.dll&quot; ]
</code></pre>

<p>Next up is the <strong>Dockerfile.integration</strong> file. This is fairly simple. We copy the solution&rsquo;s code over and run a restore in the integration test directory.
<br>
<br></p>

<pre><code class="language-dockerfile"># /Dockerfile.integration
FROM microsoft/dotnet:1.1.2-sdk as builder
COPY . /app
WORKDIR /app/test/TodoService.IntegrationTests
RUN curl https://raw.githubusercontent.com/vishnubob/wait-for-it/master/wait-for-it.sh &gt; /app/wait_for_it.sh \
    &amp;&amp; dotnet restore
</code></pre>

<p>Last but not least, we need our <strong>docker-compose-integration.yml</strong> file.
<br>
<br></p>

<pre><code class="language-yaml"># /docker-compose-integration.yml
version: '3'

services:
  integration:
    build: 
      context: .
      dockerfile: Dockerfile.integration
    environment:
      - API_URL=http://web:5000
      - CONNECTION_STRING=Server=db;Database=todosdb;Uid=root;Pwd=password;SslMode=None;      
    entrypoint: bash /app/wait_for_it.sh web:5000 -t 0 -- dotnet test
    depends_on:
      - web
      - db
  web:
    build: .
    ports: 
      - 5000:5000
    environment:
      - ASPNETCORE_ENVIRONMENT=Development
      - CONNECTION_STRING=Server=db;Database=todosdb;Uid=root;Pwd=password;SslMode=None;
    entrypoint: bash /app/wait_for_it.sh db:3306 -t 0 -- dotnet /app/TodoService.dll
    depends_on:
      - db
  db:
    image: mysql
    ports:
      - 3306:3306
    # Start the container with a todosdb, and password as the root users password
    environment: 
      - MYSQL_DATABASE=todosdb
      - MYSQL_ROOT_PASSWORD=password
    # Volume the scripts folder over that we setup earlier.
    volumes: 
      - ./Scripts:/docker-entrypoint-initdb.d

</code></pre>

<p>Great! All the files that we need have been set up. Are you ready to run some tests? Find your nearest terminal that supports Docker, cd to the folder that contains the <strong>docker-compose-integration.yml</strong> file, and run the following command.
<br>
<br></p>

<pre><code class="language-bash">docker-compose -f docker-compose-integration.yml up
</code></pre>

<p><strong>Personally, I like to run the following command:</strong></p>

<pre><code class="language-bash">docker-compose -f docker-compose-integration.yml up --build --abort-on-container-exit
</code></pre>

<p><strong>This will stop the docker compose after the integration tests have completed. In addition, it will rebuild your images before starting the containers.</strong>
<br>
<br></p>

                <br>
                <br>
                <h3>Comments</h3>




<section class="comment-list">

         

         

         

         

</section>


  <p>Hey, be the first to comment on this article.</p>

                <script>
  function getFormObj(formId) {
    var formObj = {};
    var inputs = $('#'+formId).serializeArray();
    $.each(inputs, function (i, input) {
        formObj[input.name] = input.value;
    });
    return formObj;
}

  sendRequest = function(url) {
    $('#comment-form-submit').prop("disabled", true)
    $.post(url, $('#comment-form').serialize(), ()=>{
      $('#comment-form-submit').prop("disabled", false)
      
      location.reload();
    });
  }
</script>

<form amp-form id="comment-form" class="comment-form" method="post" onsubmit="sendRequest('https://api.staticman.net/v2/entry/wright-development/wright-development.github.io/master/comments')">
  <label for="comment-form-name">Name</label>
  <input type="text" id="comment-form-name" name="fields[name]" tabindex="2" />
  <label for="comment-form-email">Email address</label>
  <input type="email" id="comment-form-email" name="fields[email]" tabindex="3" />
  <label for="comment-form-location" style="display:none;">Not used. Leave blank if you are a human.</label>
  <input type="text" id="comment-form-location" style="display:none;" name="fields[hidden]" autocomplete="off" />
  <label for="comment-form-message">Comment</label>
  <textarea type="text" rows="3" id="comment-form-message" name="fields[message]" tabindex="1"></textarea>
  <input type="hidden" name="options[entryId]" value="1972248e00c5c06f60f92407ec5dbc77">
  <button type="submit" id="comment-form-submit" tabindex="5">Submit Comment</button>
</form>
            </section>
            
        </article>

        <aside class="col-1 xs-hide"></aside>
    </main>
</amp-selector>

    
    <footer class="ampstart-footer flex flex-column items-center pxy3">
        
        <ul class="ampstart-social-follow list-reset flex justify-around items-center flex-wrap m0 mb4">
          
              <li class="mr2">
                <a href="https://github.com/wright-development" class="inline-block">
                    <amp-img src="/img/github.svg" width="24" height="24"></amp-img>        
                </a>
              </li>
          
          
          
          
          
              <li class="mr2">
                <a href="https://www.linkedin.com/in/darrius-wright" class="inline-block">
                    <amp-img src="/img/linkedin.svg" width="24" height="24"></amp-img>        
                </a>
              </li>
            
        </ul>
        
 
        <small> powered by <a href="http://gohugo.io" target="_blank">hugo</a> theme <a href="https://github.com/pdevty/amp" target="_blank">amp</a> designed by <a href="http://pdevty.github.io" target="_blank">pdevty</a></small>
    </footer>
    
    
    <amp-analytics type="googleanalytics" id="analytics">
        <script type="application/json">
        {
            "vars": {
                "account": "UA-61721549-2"
            },
            "triggers": {
                "default pageview": {
                    "on": "visible",
                    "request": "pageview",
                    "vars": {
                        "title": "Using Docker for .NET Core Integration Testing"
                    }
                }
            }
        }
        </script>
    </amp-analytics>
    
    
</body>

</html>
